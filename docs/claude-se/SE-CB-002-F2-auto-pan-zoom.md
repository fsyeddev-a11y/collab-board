<!-- CLAUDE-SE CHANGE LOG — Auto-generated by Claude-SE after implementing a spec. -->

**Spec Implemented**: CB-002 F2 — Pan/Zoom to AI-Created Objects
**Date**: 2026-02-22

**Summary of Changes**: After the AI agent creates or modifies objects, the viewport now automatically animates to show the user what changed. Multi-shape operations (diagrams, layouts) trigger a zoom-to-fit with 80px inset padding; single-shape operations (one note, one update) center-pan without changing zoom. All resolver functions now return affected shape IDs, which are aggregated by `resolveToolCalls()` and used for bounding box computation. The AI panel stays open after generation so the user can issue follow-up prompts.

**Files Modified**:
- `frontend/src/utils/aiResolver.ts` — Changed all resolver functions (`resolveCreateElements`, `resolveUpdateElements`, `resolveLayoutElements`, `resolveCreateDiagram`) and helpers (`createFrameWithNotes`, `createArrowBetween`, layout functions) to return affected shape IDs. Changed `resolveToolCalls()` from `void` to `string[]` return type with ID aggregation and separate frame-ID tracking for post-batch fitting.
- `frontend/src/pages/BoardPage.tsx` — In `handleAiGenerate()`: capture returned IDs, compute union bounding box, animate camera (zoomToBounds for 2+ shapes, centerOnPoint for 1 shape). Removed `setAiPanelOpen(false)` so panel stays open.

**Files Created**:
- `docs/claude-se/SE-CB-002-F2-auto-pan-zoom.md` — This change log

**Tests Added/Modified**:
- `frontend/src/tests/aiResolver.test.ts` — Added 8 new tests (section 6: "returns affected shape IDs") validating: createElements returns IDs, updateElements returns IDs, updateElements returns empty for non-existent shapes, layoutElements returns IDs, layoutElements returns empty for <2 shapes, createDiagram returns all IDs (frames+notes), user journey returns all IDs (frames+notes+arrows), multi-call aggregation

**How to Verify**:
1. Open a board and open the AI panel
2. Ask the AI to "Create a SWOT analysis for a coffee shop" — viewport should animate to zoom-fit all 4 frames
3. Ask "Create a single sticky note that says Hello" — viewport should pan to center on that note without changing zoom
4. Select an existing shape and ask the AI to "Change this to red" — viewport should pan to the updated shape
5. Ask the AI to "Arrange these in a grid" (with shapes selected) — viewport should zoom to show all rearranged shapes
6. Verify the AI panel stays open after each generation (prompt text cleared, panel visible)
7. Verify all animations are smooth (~500ms)
8. Verify frame fitting still works correctly on diagrams (notes contained within frames)

**Flagged Issues**: None
