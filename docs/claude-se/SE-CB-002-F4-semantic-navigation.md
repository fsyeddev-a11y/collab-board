<!-- CLAUDE-SE CHANGE LOG — Auto-generated by Claude-SE after implementing a spec. -->

**Spec Implemented**: CB-002 F4 — Semantic Camera Navigation (Search + Pan)
**Date**: 2026-02-22

**Summary of Changes**: Added a read-only `navigateToElements` agent tool that lets the LLM pan the user's viewport to specific shapes by semantic query (e.g., "find the SWOT analysis"). The tool returns shape IDs without creating or modifying anything. Camera animation reuses F2's existing `zoomToBounds`/`centerOnPoint` logic in BoardPage.tsx.

**Files Modified**:
- `shared/src/api.ts` — Added `NavigateToElementsToolCallSchema` (tool literal, shapeIds array, optional description). Added to `ToolCallSchema` discriminated union (now 5 members). Exported `NavigateToElementsToolCall` type.
- `ai-service/src/agent.ts` — Added `navigateToElements` DynamicStructuredTool to `buildTools()`. Updated SYSTEM_PROMPT AVAILABLE TOOLS section with navigation guidance and rule: "When the user asks WHERE something is, ALWAYS use this tool."
- `frontend/src/utils/aiResolver.ts` — Added `NavigateToElementsCall` interface and updated `ToolCall` union type. Added `resolveNavigateToElements()` function (read-only, returns shapeIds, logs description). Added dispatch case in `resolveToolCalls()` switch.

**Files Created**:
- `docs/claude-se/SE-CB-002-F4-semantic-navigation.md` — This change log

**Tests Added/Modified**:
- `frontend/src/tests/aiResolver.test.ts` — 3 new tests (section 7: "navigateToElements"):
  1. Returns requested shape IDs without creating any shapes (read-only verification)
  2. Does not modify existing shape properties (text, color, position unchanged)
  3. Works alongside other tool calls in the same batch (createElements + navigateToElements)

**How to Verify**:
1. Create a SWOT diagram or kanban board on the board
2. Pan away so the diagram is off-screen
3. Type "find the SWOT analysis" in the AI prompt
4. Verify the viewport smoothly animates to show the SWOT frames
5. Verify no shapes were created, modified, or deleted
6. Test with "where is the kanban board?" — should pan to kanban columns
7. Test with "show me the sticky note about [topic]" — should pan to that note
8. Test parallel: "find the SWOT and make it blue" — should navigate AND recolor
9. Verify off-screen shapes are findable (LLM sees them in F3's compact index)

**Flagged Issues**: None
